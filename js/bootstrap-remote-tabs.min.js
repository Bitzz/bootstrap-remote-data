var $=jQuery;
/*
 *
 * Bootstrap remote data tabs plugin
 * Version 1.0.1
 *
 * Author: Stephen Hoogendijk (TheCodeAssassin)
 *
 * Licensed under the GPLV2 license.
 *
 * @returns {{hasLoadingMask: boolean, load: Function, _executeRemoteCall: Function}}
 * @constructor
 */
var RemoteTabs=function(){var c={hasLoadingMask:false,load:function(e,g){var f=this;f.hasLoadingMask=!!g;$("[data-toggle=tab]").each(function(m,l){var h=$(l),o,r,n,i,p,j;if(h.is("[data-tab-url]")){i=h.attr("data-tab-url");o=$("#"+h.attr("href").split("#")[1]);r=h.attr("data-tab-json")||[];n=h.attr("data-tab-callback")||null;p=h.attr("data-tab-delay")||null;j=(h.is("[data-tab-always-refresh]")&&h.attr("data-tab-always-refresh")=="true")||null;if(r.length>0){try{r=$.parseJSON(r)}catch(q){console.log("Invalid json passed to data-tab-json");console.log(q)}}h.on(e,function(k){if((!h.hasClass("loaded")||j)&&!h.hasClass("loading")){if(f.hasLoadingMask){o.mask("Loading...")}h.addClass("loading");if(p){clearTimeout(window.timer);window.timer=setTimeout(function(){f._executeRemoteCall(i,r,n,h,o)},p)}else{f._executeRemoteCall(i,r,n,h,o)}}})}})},_executeRemoteCall:function(h,j,f,g,e){var i=this;$.ajax({url:h,data:j||[],success:function(k){g.removeClass("loading");if(i.hasLoadingMask){e.unmask()}if(k){if(typeof window[f]=="function"){window[f].call(null,k,g,e,j)}if(!g.hasClass("loaded")){g.addClass("loaded")}e.html(k)}},fail:function(k){g.removeClass("loading");if(i.hasLoadingMask){e.unmask()}}})}};var d=(jQuery().mask?true:false),b=(jQuery().typeahead?true:false);var a=(b?"show":"show.bs.tab");c.load(a,d);return c};var remoteTabsPluginLoaded=new RemoteTabs();