var $=jQuery;
/*
 *
 * Bootstrap remote data tabs plugin
 * Version 1.0.1
 *
 * Author: Stephen Hoogendijk (TheCodeAssassin)
 *
 * Licensed under the GPLV2 license.
 *
 * @returns {{hasLoadingMask: boolean, load: Function, _executeRemoteCall: Function}}
 * @constructor
 */
var hasLoadingMask=(jQuery().mask?true:false),bootstrapVersion2=(jQuery().typeahead?true:false);var showEvent=(bootstrapVersion2?"show":"show.bs.tab");$(function(){var a=document.location.hash;if(a){$(".nav-tabs a[href*="+a+"]").tab(showEvent)}});var RemoteTabs=function(){var a={hasLoadingMask:false,load:function(b,d){var c=this;c.hasLoadingMask=!!d;$("[data-toggle=tab]").each(function(i,h){var e=$(h),l,o,j,f,m,g;if(e.is("[data-tab-url]")){f=e.attr("data-tab-url");l=$("#"+e.attr("href").split("#")[1]);o=e.attr("data-tab-json")||[];j=e.attr("data-tab-callback")||null;m=e.attr("data-tab-delay")||null;g=(e.is("[data-tab-always-refresh]")&&e.attr("data-tab-always-refresh")=="true")||null;if(o.length>0){try{o=$.parseJSON(o)}catch(n){console.log("Invalid json passed to data-tab-json");console.log(n)}}e.on(b,function(k){window.location.hash=k.target.hash;if((!e.hasClass("loaded")||g)&&!e.hasClass("loading")){if(c.hasLoadingMask){l.mask("Loading...")}e.addClass("loading");if(m){clearTimeout(window.timer);window.timer=setTimeout(function(){c._executeRemoteCall(f,o,j,e,l)},m)}else{c._executeRemoteCall(f,o,j,e,l)}}})}})},_executeRemoteCall:function(e,g,c,d,b){var f=this;$.ajax({url:e,data:g||[],success:function(h){d.removeClass("loading");if(f.hasLoadingMask){b.unmask()}if(h){if(typeof window[c]=="function"){window[c].call(null,h,d,b,g)}if(!d.hasClass("loaded")){d.addClass("loaded")}b.html(h)}},fail:function(h){d.removeClass("loading");if(f.hasLoadingMask){b.unmask()}}})}};a.load(showEvent,hasLoadingMask);return a};var remoteTabsPluginLoaded=new RemoteTabs();